<div class="issue-details">
  @if (loading()) {
  <app-loading></app-loading>
  } @else if (issue()) {
  <header class="issue-header">
    <a (click)="goBack()" class="back-button">&larr; Back to issues</a>
    <h1>
      <span class="issue-number">#{{ issue()?.number }}</span>
      {{ issue()?.title }}
    </h1>
    <div class="issue-meta">
      <img [src]="issue()?.user?.avatar_url" alt="User avatar" class="avatar" />
      <span>Opened by {{ issue()?.user?.login }}</span>
      <span>on {{ issue()?.created_at | date }}</span>
      <span class="state {{ issue()?.state }}">{{ issue()?.state }}</span>
    </div>
  </header>

  <div class="issue-body">
    {{ issue()?.body }}
  </div>

  <div class="issue-actions">
    <a [href]="issue()?.html_url" target="_blank" class="github-link">
      View on GitHub
      <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="github-icon">
        <title>GitHub</title>
        <path
          d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.438 9.8 8.205 11.385.6.113.82-.26.82-.577
        0-.285-.01-1.04-.016-2.04-3.338.726-4.042-1.61-4.042-1.61-.546-1.387-1.333-1.757-1.333-1.757
        -1.09-.744.083-.729.083-.729 1.205.085 1.84 1.237 1.84 1.237 1.07 1.835 2.807 1.305
        3.492.998.108-.775.418-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93
        0-1.31.468-2.38 1.236-3.22-.124-.303-.536-1.523.117-3.176
        0 0 1.008-.322 3.3 1.23a11.52 11.52 0 0 1 3.003-.404c1.018.005
        2.044.138 3.003.404 2.29-1.552 3.297-1.23 3.297-1.23.655
        1.653.243 2.873.12 3.176.77.84 1.235 1.91 1.235 3.22
        0 4.61-2.804 5.625-5.475 5.92.43.37.81 1.102.81
        2.222 0 1.606-.015 2.898-.015 3.293 0 .32.216.694.825.576A12.02
        12.02 0 0 0 24 12c0-6.63-5.373-12-12-12z"
        />
      </svg>
    </a>
  </div>
  }
</div>
